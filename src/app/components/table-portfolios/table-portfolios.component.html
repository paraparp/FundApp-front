<table mat-table [dataSource]="portfolios" class="full-width-table" matSort aria-label="Elements">

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
    <td mat-cell *matCellDef="let portfolio">
      <div class="mediumbold left"> {{portfolio.name}}</div>
      <div class="subline left">{{portfolio.description}} </div>
    </td>
  </ng-container>

  <ng-container matColumnDef="value">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Value</th>
    <td mat-cell *matCellDef="let portfolio">{{portfolio.value | currency:"EUR":"symbol"}}</td>
  </ng-container>

  <ng-container matColumnDef="cost">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Cost</th>
    <td mat-cell *matCellDef="let portfolio">{{portfolio.cost | currency:"EUR":"symbol"}}</td>
  </ng-container>

  <ng-container matColumnDef="variation">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Variation</th>
    <td mat-cell class="mediumbold" *matCellDef="let portfolio" [ngStyle]="{'background-color': portfolio.variationPercent>0?  '#dcfce2' : '#fcdcdc'}">
      {{portfolio.variation | currency:'EUR':'symbol-narrow'}}
      <div class="subline"> {{portfolio.variationPercent | percent:'1.2'}}</div>
      <mat-progress-bar color="green" [value]=" portfolio.variationPercent * 100"></mat-progress-bar>
    </td>
  </ng-container>

  <ng-container matColumnDef="list">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>List</th>
    <td mat-cell *matCellDef="let portfolio">
      <button [routerLink]="['/watchlist/', portfolio.id]" routerLinkActive="router-link-active no-border" mat-icon-button>
        <mat-icon>assessment</mat-icon>
      </button>
      <button [routerLink]="['/transactions/', portfolio.id]" routerLinkActive="router-link-active no-border" mat-icon-button>
        <mat-icon>view_headline</mat-icon>
      </button>
    </td>
  </ng-container>

  <ng-container matColumnDef="edit">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Edit</th>
    <td mat-cell *matCellDef="let portfolio">
      <button mat-icon-button (click)="openDialog(portfolio)">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button (click)="onDelete(portfolio)" color="warn">
        <mat-icon>remove_circle</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let portfolio; columns: displayedColumns;"></tr>

</table>